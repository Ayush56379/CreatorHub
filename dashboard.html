<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>CreatorHub Dashboard</title>

<style>

body{

font-family:Arial;

background:#f4f6f8;

margin:0;

padding:20px;

text-align:center;

}

.card{

background:white;

padding:20px;

border-radius:10px;

max-width:400px;

margin:auto;

box-shadow:0 0 10px rgba(0,0,0,.1);

}

img{

width:120px;

height:120px;

border-radius:50%;

object-fit:cover;

}

button{

padding:10px 15px;

border:none;

background:#007bff;

color:white;

border-radius:6px;

cursor:pointer;

margin-top:10px;

}

</style>

</head>

<body>

<div class="card">

<h2 id="username">Welcome</h2>

<img id="profileImg"
src="https://via.placeholder.com/120">

<br><br>

<input type="file"
onchange="uploadProfile(event)">

<br>

<button onclick="logout()">

Logout

</button>

</div>


<script>

document.addEventListener(

"DOMContentLoaded",

()=>{

let user=null;


// USER SAFE

try{

user=JSON.parse(

localStorage.getItem("user")

);

}catch{

user=null;

}


// AUTO LOGIN (Testing)

if(!user){

localStorage.setItem(

"user",

JSON.stringify({

name:"CreatorHub User",

email:"demo@gmail.com"

})

);

user=JSON.parse(

localStorage.getItem("user")

);

}


// USER NAME

const usernameEl=

document.getElementById(

"username"

);

if(usernameEl){

usernameEl.innerText=

"Welcome "+

(user.name || "User")+" ðŸ‘‹";

}


// PROFILE IMAGE LOAD

const profileEl=

document.getElementById(

"profileImg"

);

const savedImg=

localStorage.getItem(

"profile_"+user.email

);

if(profileEl && savedImg){

profileEl.src=savedImg;

}

});


// PROFILE UPLOAD

function uploadProfile(e){

const file=e.target.files[0];

if(!file) return;

const reader=new FileReader();

reader.onload=function(){

const user=JSON.parse(

localStorage.getItem("user")

);

localStorage.setItem(

"profile_"+user.email,

reader.result

);

document.getElementById(

"profileImg"

).src=reader.result;

};

reader.readAsDataURL(file);

}


// LOGOUT

function logout(){

localStorage.removeItem("token");

localStorage.removeItem("user");

location.href="./login.html";

}

</script>

</body>

</html>
