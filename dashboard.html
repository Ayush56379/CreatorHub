<!DOCTYPE html>
<html>

<head>

<title>Creator Dashboard</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

margin:0;

font-family:Arial;

background:#111;

color:white;

}

/* NAVBAR */

nav{

background:black;

padding:15px;

display:flex;

justify-content:space-between;

}

a{

color:white;

text-decoration:none;

margin-left:10px;

}

/* MAIN */

.container{

padding:20px;

}

/* PROFILE CARD */

.profile{

background:#222;

padding:20px;

border-radius:12px;

text-align:center;

box-shadow:0 0 10px black;

}

.profile img{

width:90px;

height:90px;

border-radius:50%;

}

/* STATS */

.stats{

display:grid;

grid-template-columns:
repeat(auto-fit,
minmax(150px,1fr));

gap:15px;

margin-top:20px;

}

.box{

background:#222;

padding:15px;

border-radius:10px;

text-align:center;

}

/* BUTTONS */

.menu{

margin-top:20px;

}

.menu button{

width:100%;

padding:15px;

margin-top:10px;

border:none;

border-radius:8px;

background:#333;

color:white;

font-size:16px;

cursor:pointer;

}

.menu button:hover{

background:orange;

color:black;

}

</style>

</head>

<body>


<nav>

<div>

ðŸ”¥ CreatorHub Dashboard

</div>

<div>

<a href="index.html">

Home

</a>

<a href="products.html">

Products

</a>

</div>

</nav>


<div class="container">


<div class="profile">

<img src=

"https://i.pravatar.cc/150"

>

<h2 id="username">

Loading...

</h2>

<p>

Creator Account

</p>

</div>


<!-- STATS -->

<div class="stats">

<div class="box">

<h3>

Products

</h3>

<p id="productCount">

0

</p>

</div>


<div class="box">

<h3>

Orders

</h3>

<p id="orderCount">

0

</p>

</div>


<div class="box">

<h3>

Earnings â‚¹

</h3>

<p id="earnings">

0

</p>

</div>

</div>


<!-- MENU -->

<div class="menu">

<button onclick=

"location.href='upload.html'">

â¬† Upload Product

</button>


<button onclick=

"location.href='products.html'">

ðŸ“¦ My Products

</button>


<button onclick=

"location.href='orders.html'">

ðŸ’° Orders

</button>


<button onclick=

"location.href='admin.html'">

âš™ Admin Panel

</button>


<button onclick=

"logout()">

ðŸšª Logout

</button>

</div>

</div>


<script>

const API=

"https://creatorhub-f2fe.onrender.com/api";


// USER

const user=

JSON.parse(

localStorage.getItem(

"user"

)

);


if(!user){

window.location.href=

"login.html";

}


// NAME

document.getElementById(

"username"

).innerText=

"Welcome "+user.name+" ðŸ‘‹";


// LOAD STATS

async function loadStats(){

try{


// PRODUCTS

const p=

await fetch(

API+"/products"

);

const pdata=

await p.json();


document.getElementById(

"productCount"

).innerText=

pdata.products.length;


// ORDERS

const o=

await fetch(

API+"/orders"

);

const odata=

await o.json();


document.getElementById(

"orderCount"

).innerText=

odata.orders?.length || 0;


// EARNINGS

let total=0;

odata.orders?.forEach(

ord=>{

total+=

ord.product?.price || 0;

});

document.getElementById(

"earnings"

).innerText=

total;


}catch{

console.log(

"Stats Error"

);

}

}

loadStats();


// LOGOUT

function logout(){

localStorage.clear();

alert("Logged Out");

window.location.href=

"login.html";

}

</script>

</body>

</html>
