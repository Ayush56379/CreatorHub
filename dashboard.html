<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>CreatorHub Profile</title>

<style>

body{

margin:0;

font-family:Arial;

background:#f1f5f9;

}


/* HEADER */

.header{

display:flex;

justify-content:space-between;

align-items:center;

background:black;

color:white;

padding:12px;

}

.back{

background:#2563eb;

padding:8px 14px;

border-radius:8px;

cursor:pointer;

border:none;

color:white;

}

.home{

background:#22c55e;

padding:8px 14px;

border-radius:8px;

text-decoration:none;

color:white;

}


/* PROFILE */

.top{

background:#2563eb;

color:white;

padding:30px;

text-align:center;

border-radius:0 0 25px 25px;

}

.profile-img{

width:110px;

height:110px;

border-radius:50%;

object-fit:cover;

border:4px solid white;

}

.name{

font-size:22px;

margin-top:10px;

}

.email{

opacity:.9;

font-size:14px;

}


/* LOGIN REGISTER */

.loginBtn{

background:#22c55e;

padding:10px;

border:none;

border-radius:8px;

color:white;

width:45%;

margin-top:10px;

}

.registerBtn{

background:#f59e0b;

padding:10px;

border:none;

border-radius:8px;

color:white;

width:45%;

margin-left:8px;

}


/* OPTIONS */

.container{

padding:20px;

}

.card{

background:white;

padding:15px;

border-radius:12px;

margin-bottom:12px;

box-shadow:

0 0 10px rgba(0,0,0,.08);

display:flex;

justify-content:space-between;

cursor:pointer;

}


/* LOGOUT */

.logout{

margin:30px;

}

.logout button{

width:100%;

padding:14px;

border:none;

background:#ef4444;

color:white;

border-radius:10px;

font-size:16px;

cursor:pointer;

}

</style>

</head>

<body>


<!-- HEADER -->

<div class="header">

<button class="back"

onclick="history.back()">

‚¨Ö Back

</button>

üî• CreatorHub

<a class="home"

href="./index.html">

Home

</a>

</div>



<!-- PROFILE -->

<div class="top">

<img id="profileImg"

class="profile-img"

src="https://cdn-icons-png.flaticon.com/512/149/149071.png">

<br><br>

<input type="file"

onchange="uploadProfile(event)">



<div id="username"

class="name">

Guest User

</div>


<div id="email"

class="email">

Please Login

</div>



<div id="authButtons">

<a href="./login.html">

<button class="loginBtn">

Login

</button>

</a>


<a href="./register.html">

<button class="registerBtn">

Register

</button>

</a>

</div>

</div>



<!-- OPTIONS -->

<div class="container">

<div class="card"

onclick="go('orders.html')">

Orders <span>‚û°Ô∏è</span>

</div>


<div class="card"

onclick="go('library.html')">

My Library <span>‚û°Ô∏è</span>

</div>


<div class="card"

onclick="go('upload.html')">

Upload Product <span>‚û°Ô∏è</span>

</div>


<div class="card"

onclick="go('products.html')">

Browse Products <span>‚û°Ô∏è</span>

</div>


<div class="card"

onclick="go('cart.html')">

Cart <span>‚û°Ô∏è</span>

</div>


<div class="card"

onclick="go('reviews.html')">

My Reviews <span>‚û°Ô∏è</span>

</div>

</div>



<!-- LOGOUT -->

<div class="logout">

<button onclick="logout()">

Logout

</button>

</div>



<script>


document.addEventListener(

"DOMContentLoaded",

()=>{

let user=null;

try{

user=JSON.parse(

localStorage.getItem("user")

);

}catch{

user=null;

}


let token=

localStorage.getItem("token");


const authBox=

document.getElementById(

"authButtons"

);


// LOGIN USER SHOW

if(user && token){

document.getElementById(

"username"

).innerText=user.name;

document.getElementById(

"email"

).innerText=user.email;

authBox.style.display="none";

}


// PROFILE IMAGE

if(user){

const savedImg=

localStorage.getItem(

"profile_"+user.email

);

if(savedImg){

document.getElementById(

"profileImg"

).src=savedImg;

}

}

});



// PROFILE UPLOAD

function uploadProfile(e){

const file=e.target.files[0];

if(!file) return;

const reader=new FileReader();

reader.onload=function(){

const user=

JSON.parse(

localStorage.getItem("user")

);

if(!user) return;

localStorage.setItem(

"profile_"+user.email,

reader.result

);

document.getElementById(

"profileImg"

).src=reader.result;

};

reader.readAsDataURL(file);

}


// NAVIGATION

function go(page){

location.href="./"+page;

}


// ‚úÖ FINAL LOGOUT FIX

function logout(){

localStorage.clear();

alert("Logged Out ‚úÖ");

window.location.href="./login.html";

}

</script>

</body>

</html>
