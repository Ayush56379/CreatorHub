<!DOCTYPE html>
<html>

<head>

<title>Upload Product - CreatorHub</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

margin:0;
font-family:Arial;
background:#111;
color:white;

}

nav{

background:black;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;

}

a{

color:white;
text-decoration:none;
margin-left:15px;
font-weight:bold;

}

a:hover{

color:orange;

}

.back{

background:#222;
padding:10px;
text-align:center;
cursor:pointer;

}

.container{

display:flex;
justify-content:center;
align-items:center;
height:85vh;

}

.card{

background:#222;
padding:30px;
width:350px;
border-radius:12px;
box-shadow:0 0 15px black;
text-align:center;

}

input{

width:100%;
padding:12px;
margin-top:12px;
border:none;
border-radius:6px;

}

button{

width:100%;
padding:13px;
background:orange;
border:none;
margin-top:15px;
font-size:16px;
border-radius:6px;
cursor:pointer;
font-weight:bold;

}

button:hover{

background:#ff8800;

}

img{

width:100%;
margin-top:12px;
border-radius:10px;
display:none;

}

label{

display:block;
text-align:left;
margin-top:12px;

}

</style>

</head>

<body>

<nav>

<div>

ðŸ“¦ CreatorHub Upload

</div>

<div>

<a href="dashboard.html">

Dashboard

</a>

<a href="products.html">

Products

</a>

</div>

</nav>


<div class="back"

onclick="history.back()">

â¬… Back

</div>



<div class="container">

<div class="card">

<h2>

ðŸ“¦ Upload Ebook

</h2>


<input

id="title"

placeholder="Product Title">


<input

id="price"

type="number"

placeholder="Price">


<label>

Cover Image

</label>

<input

type="file"

id="image"

accept="image/*"

onchange="previewImage()">


<img id="preview">



<label>

Ebook PDF

</label>

<input

type="file"

id="pdf"

accept=".pdf">



<button id="uploadBtn"

onclick="uploadProduct()">

Upload Product ðŸš€

</button>


<br><br>


<a href="dashboard.html">

â¬… Back Dashboard

</a>


</div>

</div>



<script>

const API=

"https://creatorhub-f2fe.onrender.com/api";


// LOGIN CHECK

const token=

localStorage.getItem("token");

if(!token){

alert("Login First");

window.location.href="login.html";

}


// IMAGE PREVIEW

function previewImage(){

const file=

document.getElementById("image").files[0];

const img=

document.getElementById("preview");


if(file){

img.style.display="block";

img.src=

URL.createObjectURL(file);

}else{

img.style.display="none";

}

}


// UPLOAD PRODUCT

async function uploadProduct(){


const btn=

document.getElementById("uploadBtn");

btn.innerText="Uploading...";


const title=

document.getElementById("title").value;

const price=

document.getElementById("price").value;

const imageFile=

document.getElementById("image").files[0];

const pdfFile=

document.getElementById("pdf").files[0];


if(!title || !price || !imageFile || !pdfFile){

alert("Fill All Fields");

btn.innerText="Upload Product ðŸš€";

return;

}


try{


const formData=

new FormData();


formData.append(

"title",

title

);

formData.append(

"price",

price

);

formData.append(

"image",

imageFile

);

formData.append(

"pdf",

pdfFile

);


const res=

await fetch(

API+"/products",

{

method:"POST",

headers:{

Authorization:

"Bearer "+token

},

body:formData

});



const data=

await res.json();


alert(

data.message ||

"Uploaded Successfully ðŸ”¥"

);


setTimeout(()=>{

window.location.href=

"dashboard.html";

},1000);


}catch{

alert("Upload Failed");

}


btn.innerText=

"Upload Product ðŸš€";

}

</script>

</body>

</html>
