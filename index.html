<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width,initial-scale=1">

<title>CreatorHub Marketplace</title>

<style>

/* SAME CSS (UNCHANGED) */

:root{
--bg:#ffffff;
--text:#111827;
--card:#f3f4f6;
--accent:#22c55e;
}

@media (prefers-color-scheme:dark){

:root{

--bg:#020617;
--text:#ffffff;
--card:#111827;

}

}

body{
margin:0;
font-family:Arial;
background:var(--bg);
color:var(--text);
display:flex;
flex-direction:column;
min-height:100vh;
}

/* HEADER */

header{
display:flex;
align-items:center;
padding:14px;
background:var(--bg);
box-shadow:0 5px 20px rgba(0,0,0,.4);
position:sticky;
top:0;
z-index:999;
}

.menu{
font-size:26px;
cursor:pointer;
width:40px;
}

.title{
flex:1;
text-align:center;
font-size:22px;
font-weight:bold;
color:#22c55e;
}

.profile{
width:42px;
height:42px;
border-radius:50%;
border:2px solid #22c55e;
object-fit:cover;
cursor:pointer;
}

/* SIDE MENU */

.side{
position:fixed;
top:0;
left:-260px;
width:240px;
height:100%;
background:var(--bg);
padding:20px;
transition:.3s;
box-shadow:5px 0 20px rgba(0,0,0,.6);
z-index:9999;
}

.side.open{
left:0;
}

.close{
background:#ef4444;
padding:10px;
border-radius:10px;
text-align:center;
cursor:pointer;
color:white;
}

.side a{
display:block;
margin-top:10px;
padding:12px;
background:var(--card);
border-radius:10px;
text-decoration:none;
color:var(--text);
}

/* SEARCH */

.search{
padding:15px;
}

.search input{
width:100%;
padding:15px 18px;
border-radius:50px;
border:none;
background:var(--card);
color:var(--text);
font-size:15px;
outline:none;
}

/* PRODUCTS */

.products{
flex:1;
padding:15px;
display:grid;
grid-template-columns:
repeat(auto-fit,minmax(230px,1fr));
gap:20px;
}

.card{
background:var(--card);
padding:14px;
border-radius:14px;
box-shadow:0 10px 25px rgba(0,0,0,.3);
}

.card img{
width:100%;
height:210px;
object-fit:cover;
border-radius:12px;
}

.rating{
color:gold;
margin-top:5px;
}

.seller{
display:flex;
align-items:center;
gap:8px;
font-size:13px;
margin-top:6px;
}

.seller img{
width:24px;
height:24px;
border-radius:50%;
border:1px solid #22c55e;
}

.buy{
width:100%;
padding:12px;
margin-top:10px;
border:none;
background:linear-gradient(90deg,#22c55e,#4ade80);
border-radius:10px;
color:white;
font-weight:bold;
cursor:pointer;
}

.badge{
background:#22c55e;
padding:4px 8px;
font-size:11px;
border-radius:6px;
margin-left:5px;
color:white;
}

/* FOOTER */

footer{
background:black;
padding:30px;
text-align:center;
color:white;
line-height:26px;
}

footer a{
color:#22c55e;
margin:0 6px;
cursor:pointer;
}

</style>

</head>

<body>

<!-- SIDE MENU -->

<div id="menu" class="side">

<div class="close" onclick="closeMenu()">

⬅ Back

</div>

<a href="dashboard.html">Dashboard</a>

<a href="upload.html">Upload Ebook</a>

<a href="wallet.html">Wallet</a>

<a href="orders.html">Orders</a>

</div>

<header>

<div class="menu" onclick="openMenu()">☰</div>

<div class="title">CreatorHub</div>

<img id="profile" class="profile" onclick="location.href='dashboard.html'">

</header>

<div class="search">

<input placeholder="Search Ebook..."

oninput="searchProduct(this.value)">

</div>

<div id="products" class="products">

Loading Products...

</div>

<footer>

<h2>CreatorHub Policies</h2>

Admin Commission : 20%.

Seller Earnings : 80%.

No Refund Policy Applies.

<br><br>

<a href="about.html">About</a> |

<a href="privacy.html">Privacy</a> |

<a href="disclaimer.html">Disclaimer</a> |

<a href="contact.html">Contact</a> |

<a href="rules.html">Rules</a>

<br><br>

© 2026 CreatorHub Marketplace

</footer>

<script>

const API="https://script.google.com/macros/s/AKfycbw7xwjcEGIdj3xS8q7qhRNCSbch2uVsXFGFJYWgMNU4UPA-2BSfhq79PHsQ_oCEeYTm/exec";

const menu=document.getElementById("menu");

const productsBox=document.getElementById("products");

/* PROFILE */

let user=JSON.parse(localStorage.getItem("user"))||{email:"guest"};

let profile=

localStorage.getItem("profile_"+user.email)

||

"https://cdn-icons-png.flaticon.com/512/149/149071.png";

document.getElementById("profile").src=profile;


/* MENU */

function openMenu(){

menu.classList.add("open");

}

function closeMenu(){

menu.classList.remove("open");

}

/* DRIVE */

async function getDB(db){

const res=await fetch(API+"?db="+db);

return await res.json();

}

let allProducts=[];

/* LOAD PRODUCTS */

async function loadProducts(){

try{

allProducts=await getDB("products");

/* RANDOM HIGH RATING SORT */

allProducts.forEach(p=>{

p.rating=(Math.random()*1+4).toFixed(1);

});

allProducts.sort(

(a,b)=>b.rating-a.rating

);

showProducts(allProducts);

}catch{

productsBox.innerHTML="Products Not Loading";

}

}

loadProducts();


function showProducts(list){

let html="";

list.forEach(p=>{

let sellerImg=

localStorage.getItem("profile_"+p.owner)

||

"https://cdn-icons-png.flaticon.com/512/149/149071.png";

html+=`

<div class="card">

<img src="${p.image}">

<h3>

${p.title}

<span class="badge">Verified</span>

</h3>

₹ ${p.price}

<div class="rating">

⭐ ${p.rating}/5

</div>

<div class="seller">

<img src="${sellerImg}">

${p.owner}

</div>

<button class="buy"

onclick="buyNow('${p.id}')">

Buy Ebook

</button>

</div>

`;

});

productsBox.innerHTML=

html ||

"No Products";

}

/* SEARCH */

function searchProduct(q){

q=q.toLowerCase();

showProducts(

allProducts.filter(p=>

p.title

.toLowerCase()

.includes(q)

)

);

}

/* BUY */

function buyNow(id){

localStorage.setItem(

"buyProduct",

id

);

location.href="payment.html";

}

</script>

</body>

</html>
