<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>Products - CreatorHub</title>

<style>

body{
margin:0;
font-family:Arial;
background:#f5f5f5;
}

/* HEADER */

header{
background:#131921;
color:white;
padding:12px;
display:flex;
justify-content:space-between;
align-items:center;
}

.profile{

width:36px;
height:36px;
border-radius:50%;
border:2px solid orange;
object-fit:cover;
cursor:pointer;

}

a{
color:white;
text-decoration:none;
}


/* PRODUCTS */

.products{

padding:20px;

display:grid;

grid-template-columns:

repeat(auto-fit,minmax(230px,1fr));

gap:20px;

}

.card{

background:white;

padding:15px;

border-radius:12px;

text-align:center;

box-shadow:0 6px 18px rgba(0,0,0,.15);

}

.card img{

width:100%;

height:180px;

object-fit:cover;

border-radius:10px;

}


.buy{

background:orange;

border:none;

padding:12px;

width:100%;

margin-top:10px;

cursor:pointer;

font-weight:bold;

}


.cart{

background:black;

color:white;

border:none;

padding:12px;

width:100%;

margin-top:6px;

cursor:pointer;

}

footer{

background:black;

color:white;

text-align:center;

padding:35px;

margin-top:30px;

}

</style>

</head>

<body>


<!-- HEADER -->

<header>

ðŸ”¥ CreatorHub

<div>

<a href="dashboard.html">

<img id="profile"

class="profile"

src="https://cdn-icons-png.flaticon.com/512/149/149071.png">

</a>

</div>

</header>


<h2 style="padding:20px">

ðŸ›’ All Products

</h2>


<div id="products"

class="products">

Loading...

</div>



<footer>

CreatorHub Â©2026

<br><br>

All products are digital downloads.

No refund policy applies.

</footer>



<script>

const API=

"https://creatorhub-f2fe.onrender.com/api";



// PROFILE IMAGE SHOW â­â­â­

let user=

JSON.parse(

localStorage.getItem("user")

);


if(user){

let img=

localStorage.getItem(

"profile_"+user.email

);

if(img){

document.getElementById(

"profile"

).src=img;

}

}



// â­â­â­ LOAD PRODUCTS FINAL â­â­â­

async function loadProducts(){

let html="";


// API PRODUCTS

try{

const res=

await fetch(API+"/products");

const data=

await res.json();


data.products.forEach(p=>{

html+=`

<div class="card">


<img

src="${p.image ||

'https://picsum.photos/400'}"


onerror="this.src='https://picsum.photos/400'"

>


<h3>

${p.title}

</h3>


<p>

â‚¹${p.price}

</p>


<button class="buy"

onclick="buyNow('${p._id}')">

Buy Ebook

</button>


<button class="cart"

onclick='addCart(${JSON.stringify(p)})'>

Add Cart

</button>


</div>

`;

});

}

catch(e){

console.log("API ERROR");

}



// â­ LOCAL UPLOADED PRODUCTS â­

let myProducts=

JSON.parse(

localStorage.getItem(

"myProducts"

)

)||[];


myProducts.reverse().forEach(p=>{


html+=`

<div class="card">

<img src="${p.image}">

<h3>${p.title}</h3>

<p>â‚¹${p.price}</p>

<button class="buy"

onclick="window.open('${p.pdf}','_blank')">

Download Ebook

</button>

</div>

`;

});


document.getElementById(

"products"

).innerHTML=

html || "No Products Found";

}


loadProducts();



// BUY

function buyNow(id){

localStorage.setItem(

"buyProduct",

id

);

location.href="payment.html";

}



// ADD CART

function addCart(p){

let cart=

JSON.parse(

localStorage.getItem("cart")

)||[];

cart.push(p);

localStorage.setItem(

"cart",

JSON.stringify(cart)

);

alert("Added To Cart");

}

</script>

</body>

</html>
