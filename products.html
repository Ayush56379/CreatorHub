<!DOCTYPE html>
<html>

<head>

<title>Products - CreatorHub</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

font-family:Arial;

margin:0;

background:#f2f2f2;

}


/* HEADER */

.header{

display:flex;

justify-content:space-between;

align-items:center;

background:black;

color:white;

padding:15px;

}

.left{

display:flex;

gap:10px;

align-items:center;

}

.back{

background:#2563eb;

padding:8px 14px;

border-radius:8px;

cursor:pointer;

}

.dashboard{

background:#f59e0b;

padding:8px 14px;

border-radius:8px;

color:white;

text-decoration:none;

}


/* PRODUCTS */

.products{

padding:20px;

display:grid;

grid-template-columns:

repeat(auto-fit,

minmax(230px,1fr));

gap:20px;

}

.card{

background:white;

padding:15px;

border-radius:10px;

text-align:center;

box-shadow:0 0 10px #ccc;

}

.card img{

width:100%;

border-radius:10px;

cursor:pointer;

}

button{

border:none;

padding:10px;

margin-top:8px;

cursor:pointer;

border-radius:6px;

}

.buy{

background:orange;

}

.cart{

background:black;

color:white;

}

</style>

</head>

<body>



<!-- HEADER -->

<div class="header">

<div class="left">

<div class="back"

onclick="goBack()">

‚¨Ö Back

</div>

üî• CreatorHub

</div>

<div>

<a class="dashboard"

href="./dashboard.html">

Dashboard

</a>

</div>

</div>



<h2 style="padding:20px">

üõí All Products

</h2>


<div id="products"

class="products">

Loading...

</div>



<script>


// BACK BUTTON

function goBack(){

history.back();

}



const API=

"https://creatorhub-f2fe.onrender.com/api";



// LOAD PRODUCTS

async function loadProducts(){

try{

const res=

await fetch(

API+"/products"

);

const data=

await res.json();

let html="";


data.products.forEach(p=>{


html+=`

<div class="card">


<img

src="${p.image ||

'https://picsum.photos/300'}"

onclick="openProduct('${p._id}')"

>


<h3>

${p.title}

</h3>


<p>

‚Çπ${p.price}

</p>


<button class="buy"

onclick="buyNow('${p._id}')">

Buy Ebook

</button>


<button class="cart"

onclick='addCart(${JSON.stringify(p)})'>

Add Cart

</button>


</div>

`;

});


document.getElementById(

"products"

).innerHTML=html;

}

catch{

document.getElementById(

"products"

).innerHTML=

"‚ùå Products Not Loading";

}

}

loadProducts();



// OPEN PRODUCT

function openProduct(id){

location.href=

"product.html?id="+id;

}



// BUY

function buyNow(id){

localStorage.setItem(

"buyProduct",

id

);

location.href="payment.html";

}



// CART

function addCart(product){

let cart=

JSON.parse(

localStorage.getItem("cart")

)||[];

cart.push(product);

localStorage.setItem(

"cart",

JSON.stringify(cart)

);

alert("Added To Cart");

}

</script>

</body>

</html>
