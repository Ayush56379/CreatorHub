<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>All Products - CreatorHub</title>

<style>

body{

margin:0;

font-family:Arial;

background:#f3f3f3;

}


/* HEADER */

header{

background:#131921;

color:white;

padding:15px;

display:flex;

justify-content:space-between;

align-items:center;

}


.profile{

width:36px;

height:36px;

border-radius:50%;

object-fit:cover;

border:2px solid orange;

cursor:pointer;

}


/* PRODUCTS GRID */

.products{

padding:20px;

display:grid;

grid-template-columns:

repeat(auto-fit,minmax(230px,1fr));

gap:20px;

}


.card{

background:white;

border-radius:12px;

padding:15px;

text-align:center;

box-shadow:0 0 10px #ccc;

}


.card img{

width:100%;

height:200px;

object-fit:cover;

border-radius:10px;

cursor:pointer;

}


/* BUTTON */

.buy{

background:orange;

border:none;

width:100%;

padding:12px;

margin-top:8px;

cursor:pointer;

font-weight:bold;

}


.cart{

background:black;

color:white;

border:none;

width:100%;

padding:12px;

margin-top:6px;

cursor:pointer;

}


/* FOOTER */

footer{

background:black;

color:white;

text-align:center;

padding:30px;

margin-top:30px;

}

</style>

</head>


<body>



<header>

ðŸ”¥ CreatorHub


<img id="profile"

class="profile"

onclick="location.href='dashboard.html'">


</header>



<h2 style="padding:15px">

ðŸ›’ All Products

</h2>



<div id="products"

class="products">

Loading...

</div>



<footer>

CreatorHub Â©2026

<br><br>

All products are digital downloads.

No refund policy applies.

</footer>



<script>


// ================= PROFILE IMAGE USERWISE =================

let user=

JSON.parse(

localStorage.getItem("user")

)||{email:"guest"};


let profile=

localStorage.getItem(

"profile_"+user.email

);


document.getElementById(

"profile"

).src=

profile ||

"https://cdn-icons-png.flaticon.com/512/149/149071.png";




// ================= LOAD PRODUCTS =================

async function loadProducts(){


let html="";

let apiProducts=[];


// API TRY

try{

const res=

await fetch(

"https://creatorhub-f2fe.onrender.com/api/products"

);


const data=

await res.json();


apiProducts=

data.products || [];

}catch{

console.log("API ERROR");

}



// LOCAL PRODUCTS (UPLOAD PAGE)

let localProducts=

JSON.parse(

localStorage.getItem("products")

)||[];




// COMBINE BOTH

let products=[

...apiProducts,

...localProducts

];




// EMPTY CHECK

if(products.length==0){

document.getElementById(

"products"

).innerHTML=

"âŒ No Products Found";

return;

}




products.forEach(p=>{


let image=

p.image ||

"https://picsum.photos/400";



html+=`

<div class="card">


<img

src="${image}"

onerror="this.src='https://picsum.photos/400'"

onclick="openProduct('${p._id||p.id}')"

>


<h3>

${p.title}

</h3>


<p>

â‚¹${p.price}

</p>


<button class="buy"

onclick="buyNow('${p._id||p.id}')">

Buy Ebook

</button>


<button class="cart"

onclick='addCart(${JSON.stringify(p)})'>

Add Cart

</button>


</div>

`;

});


document.getElementById(

"products"

).innerHTML=html;

}


loadProducts();




// ================= PRODUCT PAGE =================

function openProduct(id){

location.href=

"product.html?id="+id;

}



// ================= BUY =================

function buyNow(id){

localStorage.setItem(

"buyProduct",

id

);

location.href="payment.html";

}



// ================= ADD CART =================

function addCart(product){

let cart=

JSON.parse(

localStorage.getItem("cart")

)||[];



// duplicate check

if(

cart.find(

x=>x.title===product.title

)

){

alert("Already Added");

return;

}


cart.push(product);


localStorage.setItem(

"cart",

JSON.stringify(cart)

);


alert("Added To Cart");

}


</script>

</body>

</html>
