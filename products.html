<!DOCTYPE html>
<html>

<head>

<title>All Products - CreatorHub</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

font-family:Arial;
margin:0;
background:#f2f2f2;

}

/* NAVBAR */

nav{

background:black;
color:white;
padding:15px;

display:flex;
justify-content:space-between;
align-items:center;
flex-wrap:wrap;

}

nav a{

color:white;
margin-left:15px;
text-decoration:none;
font-weight:bold;

}

nav a:hover{

color:orange;

}


/* BACK */

.back{

background:#222;
color:white;
padding:10px;
text-align:center;
cursor:pointer;

}


/* SEARCH */

.search{

padding:15px;
text-align:center;

}

.search input{

width:90%;
padding:10px;
border-radius:6px;
border:1px solid #ccc;

}


/* TITLE */

.title{

padding:20px;

}


/* PRODUCTS */

.products{

padding:20px;

display:grid;

grid-template-columns:
repeat(auto-fit,
minmax(230px,1fr));

gap:20px;

}


.card{

background:white;

padding:15px;

border-radius:10px;

text-align:center;

box-shadow:0 0 8px #bbb;

transition:.3s;

}

.card:hover{

transform:translateY(-5px);

}

.card img{

width:100%;

border-radius:10px;

}


/* BUTTON */

button{

background:black;

color:white;

border:none;

padding:10px 15px;

margin-top:10px;

cursor:pointer;

border-radius:5px;

}


.buy{

background:orange;
color:black;

}


/* FOOTER */

footer{

background:black;

color:white;

text-align:center;

padding:20px;

margin-top:40px;

}

</style>

</head>

<body>



<!-- NAVBAR -->

<nav>

<div>

ğŸ”¥ CreatorHub

</div>

<div>

<a href="index.html">

Home

</a>

<a href="cart.html">

ğŸ›’ Cart

</a>

<a href="dashboard.html">

ğŸ‘¤ Profile

</a>

</div>

</nav>



<div class="back"

onclick="history.back()">

â¬… Back

</div>



<!-- SEARCH -->

<div class="search">

<input id="search"

placeholder="Search Products..."

onkeyup="searchProducts()">

</div>



<h2 class="title">

ğŸ›’ All Products

</h2>



<div id="products"

class="products">

Loading Products...

</div>



<footer>

ğŸ”¥ CreatorHub

<br>

Digital Products Marketplace

</footer>



<script>

const API=
"https://creatorhub-f2fe.onrender.com/api";



// CATEGORY FROM INDEX

const params=
new URLSearchParams(
location.search
);

const category=
params.get("category");



// LOAD PRODUCTS

async function loadProducts(){

try{

const res=
await fetch(API+"/products");

const data=
await res.json();

let html="";


let products=data.products;


// CATEGORY FILTER DEMO

if(category){

products=
products.filter(p=>

p.title.toLowerCase()
.includes(category)

);

}


products.forEach(p=>{


html+=`

<div class="card">

<img src="${
p.image ||
'https://picsum.photos/300'
}">


<h3>

${p.title}

</h3>


<div style="color:orange">

â­â­â­â­â˜†

</div>


<p>

â‚¹${p.price}

</p>



<button class="buy"

onclick="buyNow()">

Buy Now

</button>


<br>


<button

onclick='addCart(${JSON.stringify(p)})'>

ğŸ›’ Add To Cart

</button>


</div>

`;

});


document.getElementById(
"products"
).innerHTML=

html ||

"No Products Found";

}

catch{

document.getElementById(
"products"
).innerHTML=

"âŒ Products Not Loading";

}

}

loadProducts();



// BUY LOGIN CHECK

function buyNow(){

const token=
localStorage.getItem("token");

if(!token){

alert("Login First ğŸ”");

location.href="login.html";

return;

}

alert("Order Coming Soon ğŸ”¥");

}



// CART

function addCart(product){

let cart=

JSON.parse(

localStorage.getItem("cart")

)||[];

cart.push(product);

localStorage.setItem(

"cart",

JSON.stringify(cart)

);

alert("Added To Cart ğŸ›’");

}



// SEARCH

function searchProducts(){

let input=

document.getElementById(
"search"
).value.toLowerCase();

let cards=

document.querySelectorAll(
".card"
);

cards.forEach(card=>{

card.style.display=

card.innerText
.toLowerCase()
.includes(input)

?"block":"none";

});

}

</script>

</body>

</html>
