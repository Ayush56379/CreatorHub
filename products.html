<!DOCTYPE html>
<html>

<head>

<title>Ebook Detail</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{
font-family:Arial;
margin:0;
background:#f2f2f2;
}

nav{

background:black;

color:white;

padding:15px;

display:flex;

justify-content:space-between;

align-items:center;

}

.container{

padding:20px;

max-width:600px;

margin:auto;

}

.card{

background:white;

padding:20px;

border-radius:12px;

box-shadow:0 0 10px #ccc;

text-align:center;

}

img{

width:100%;

border-radius:10px;

}

.buy{

background:orange;

border:none;

padding:12px;

width:100%;

margin-top:10px;

cursor:pointer;

}

.cart{

background:black;

color:white;

border:none;

padding:12px;

width:100%;

margin-top:10px;

cursor:pointer;

}

.info{

background:#fff3cd;

padding:15px;

border-radius:10px;

margin-top:15px;

}

</style>

</head>

<body>


<nav>

üî• CreatorHub

<div onclick="history.back()"

style="cursor:pointer">

‚¨Ö Back

</div>

</nav>


<div class="container">

<div id="product">

Loading...

</div>

</div>



<script>

const API="https://creatorhub-f2fe.onrender.com/api";


// ID GET

const params=

new URLSearchParams(

window.location.search

);

const id=

params.get("id");


// DEBUG

console.log("Product ID =",id);


// LOAD PRODUCT

async function loadProduct(){

try{

// ‚≠ê ‡§Ö‡§¨ ‡§∏‡§æ‡§∞‡•á products ‡§≤‡§æ ‡§∞‡§π‡•á

const res=

await fetch(

API+"/products"

);

const data=

await res.json();


// FIND PRODUCT

const product=

data.products.find(

p=>p._id===id

);


// ‡§Ö‡§ó‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ

if(!product){

throw "Product Missing";

}


// SHOW PRODUCT

document.getElementById(

"product"

).innerHTML=

`

<div class="card">

<img src="${product.image}">

<h2>${product.title}</h2>

<h3>‚Çπ${product.price}</h3>

<div class="info">

‚úî Buy Ebook

<br>

‚úî Pay QR

<br>

‚úî Upload Screenshot

<br>

‚úî Unlock Ebook üî•

</div>


<button class="buy"

onclick="buyNow('${product._id}')">

Buy Ebook

</button>


<button class="cart"

onclick='addCart(${JSON.stringify(product)})'>

Add Cart

</button>

</div>

`;

}

catch(e){

console.log(e);

document.getElementById(

"product"

).innerHTML=

"‚ùå Product Not Found";

}

}

loadProduct();


// BUY

function buyNow(id){

localStorage.setItem(

"buyProduct",

id

);

location.href="payment.html";

}


// CART

function addCart(product){

let cart=

JSON.parse(

localStorage.getItem("cart")

)||[];

cart.push(product);

localStorage.setItem(

"cart",

JSON.stringify(cart)

);

alert("Added To Cart üõí");

}

</script>

</body>

</html>
