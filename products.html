<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>CreatorHub Store</title>

<style>

/* DEVICE AUTO THEME */

:root{
--bg:#ffffff;
--text:#111827;
--card:#f3f4f6;
--accent:#22c55e;
}

@media (prefers-color-scheme:dark){

:root{

--bg:#020617;
--text:#ffffff;
--card:#111827;

}

}

body{

margin:0;
font-family:Arial;
background:var(--bg);
color:var(--text);

}

/* HEADER */

.topbar{

display:flex;
align-items:center;
padding:14px;
background:var(--bg);
box-shadow:0 4px 15px rgba(0,0,0,.3);
position:sticky;
top:0;
z-index:99;

}

/* BACK BUTTON */

.back{

font-size:22px;
cursor:pointer;
width:40px;

}

/* TITLE */

.title{

flex:1;
text-align:center;
font-weight:bold;
color:var(--accent);
font-size:18px;

}

</style>

<style>

body{
margin:0;
font-family:Arial;
background:#0f172a;
color:white;
}

/* HEADER */

header{
background:#020617;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 5px 20px rgba(0,0,0,.5);
}

.logo{
font-size:20px;
font-weight:bold;
color:#22c55e;
}

.profile{
width:40px;
height:40px;
border-radius:50%;
border:2px solid #22c55e;
object-fit:cover;
cursor:pointer;
}

/* GRID */

.products{
padding:20px;
display:grid;
grid-template-columns:
repeat(auto-fit,minmax(230px,1fr));
gap:20px;
}

/* CARD */

.card{
background:#111827;
border-radius:15px;
padding:15px;
box-shadow:0 0 20px rgba(0,0,0,.5);
transition:.3s;
}

.card:hover{
transform:translateY(-6px);
}

.card img{
width:100%;
height:210px;
object-fit:cover;
border-radius:12px;
cursor:pointer;
}

.buy{
background:linear-gradient(
90deg,#22c55e,#4ade80);
border:none;
width:100%;
padding:13px;
margin-top:10px;
border-radius:10px;
color:white;
font-weight:bold;
cursor:pointer;
}

.cart{
background:black;
color:white;
border:none;
width:100%;
padding:12px;
margin-top:6px;
border-radius:10px;
cursor:pointer;
}

footer{
text-align:center;
padding:30px;
opacity:.7;
}

</style>

</head>

<body>

<div class="topbar">

<div class="back"
onclick="goBack()">

‚¨Ö

</div>

<div class="title">

CreatorHub

</div>

</div>

<header>

<div class="logo">

üî• CreatorHub Store

</div>

<img id="profile"

class="profile"

onclick="location.href='dashboard.html'">

</header>


<h2 style="padding:15px">

üìö All Digital Products

</h2>


<div id="products"

class="products">

Loading Products...

</div>


<footer>

CreatorHub ¬© 2026

<br>

Digital Products Marketplace

</footer>



<script>

// BACK FUNCTION

function goBack(){

history.back();

}

// ‚≠ê‚≠ê‚≠ê GOOGLE DRIVE API ‚≠ê‚≠ê‚≠ê

const API=
"https://script.google.com/macros/s/AKfycbw7xwjcEGIdj3xS8q7qhRNCSbch2uVsXFGFJYWgMNU4UPA-2BSfhq79PHsQ_oCEeYTm/exec";


// LOGIN USER

let user=
JSON.parse(
localStorage.getItem("user")
)||{email:"guest"};


// PROFILE IMAGE

let profile=
localStorage.getItem(
"profile_"+user.email
);

document.getElementById(
"profile"
).src=
profile ||
"https://cdn-icons-png.flaticon.com/512/149/149071.png";


// DRIVE LOAD ‚≠ê‚≠ê‚≠ê

async function getDB(db){

const res=
await fetch(
API+"?db="+db
);

return await res.json();

}


// LOAD PRODUCTS ‚≠ê‚≠ê‚≠ê FINAL

async function loadProducts(){

try{

let products=
await getDB("products");

if(!products ||
products.length==0){

document.getElementById(
"products"
).innerHTML=
"‚ùå No Products Found";

return;

}

let html="";

products.reverse()
.forEach(p=>{

let image=
p.image ||
"https://picsum.photos/400";

// OWNER SAFE ‚≠ê‚≠ê‚≠ê

let owner=
p.owner ||
"ayushprajpati6@gmail.com";

html+=`

<div class="card">

<img
src="${image}"
onclick="openProduct('${p.id}')"
onerror="this.src='https://picsum.photos/400'"
>

<h3>
${p.title}
</h3>

<p>
‚Çπ ${p.price}
</p>

<button class="buy"
onclick="buyNow('${p.id}')">
Buy Ebook üöÄ
</button>

<button class="cart"
onclick='addCart(${JSON.stringify(p)})'>
Add Cart
</button>

</div>

`;

});

document.getElementById(
"products"
).innerHTML=html;

}catch(e){

console.log(e);

document.getElementById(
"products"
).innerHTML=
"‚ùå Products Not Loading";

}

}

loadProducts();


// OPEN PRODUCT

function openProduct(id){

location.href=
"product.html?id="+id;

}


// BUY

function buyNow(id){

localStorage.setItem(
"buyProduct",
id
);

location.href=
"payment.html";

}


// ADD CART

function addCart(product){

let cart=
JSON.parse(
localStorage.getItem("cart")
)||[];

if(
cart.find(
x=>x.id===product.id
)
){
alert("Already Added");
return;
}

cart.push(product);

localStorage.setItem(
"cart",
JSON.stringify(cart)
);

alert("Added To Cart ‚úÖ");

}

</script>

</body>

</html>
