<!DOCTYPE html>
<html>

<head>

<title>Login - CreatorHub</title>

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<style>

body{

margin:0;
font-family:Arial;
background:#f2f2f2;

}

/* NAVBAR */

nav{

background:black;
color:white;
padding:15px;
display:flex;
justify-content:space-between;

}

nav a{

color:white;
margin-left:15px;
text-decoration:none;
font-weight:bold;

}

nav a:hover{

color:orange;

}


/* LOGIN */

.container{

display:flex;
justify-content:center;
align-items:center;
height:85vh;

}

.login-box{

background:white;
padding:30px;
width:320px;
border-radius:10px;
box-shadow:0 0 15px #bbb;
text-align:center;

}

input{

width:100%;
padding:10px;
margin:10px 0;
border-radius:5px;
border:1px solid #ccc;

}

button{

width:100%;
padding:12px;
background:orange;
border:none;
font-size:16px;
border-radius:5px;
cursor:pointer;
font-weight:bold;

}

</style>

</head>

<body>

<nav>

<div>üî• CreatorHub</div>

<div>

<a href="index.html">

Home

</a>

<a href="register.html">

Register

</a>

</div>

</nav>


<div class="container">

<div class="login-box">

<h2>Login</h2>

<form id="loginForm">

<input
type="email"
id="email"
placeholder="Email"
required>

<input
type="password"
id="password"
placeholder="Password"
required>

<button type="submit">

Login

</button>

</form>

<br>

<a href="forget.html">

Forgot Password ?

</a>

</div>

</div>


<script>

const API =
"https://creatorhub-f2fe.onrender.com/api";

document.getElementById(
"loginForm"
).onsubmit = async(e)=>{

e.preventDefault();

try{

const email =
document.getElementById("email").value;

const password =
document.getElementById("password").value;

const res = await fetch(

API+"/auth/login",

{

method:"POST",

headers:{
"Content-Type":"application/json"
},

body:JSON.stringify({
email,
password
})

});

const data =
await res.json();

console.log(data); // ‚≠ê CHECK

if(data.token){

// SAVE TOKEN

localStorage.setItem(
"token",
data.token
);

alert("Login Success üöÄ");

// DASHBOARD OPEN

window.location.href=
"./dashboard.html";

}

else{

alert(
data.message ||
"Login Failed"
);

}

}catch(err){

console.log(err);

alert("Server Error");

}

};

</script>

</body>
</html>
