<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>CreatorHub Login</title>

<style>

body{

margin:0;

font-family:Arial;

background:linear-gradient(
180deg,#020617,#0f172a);

display:flex;

justify-content:center;

align-items:center;

height:100vh;

color:white;

}

.card{

background:#111827;

padding:30px;

border-radius:15px;

width:90%;

max-width:400px;

box-shadow:0 0 25px black;

}

h2{

text-align:center;

color:#22c55e;

}

input{

width:100%;

padding:14px;

margin-top:12px;

border:none;

border-radius:10px;

background:#020617;

color:white;

outline:none;

}

button{

width:100%;

padding:14px;

margin-top:15px;

border:none;

border-radius:10px;

background:linear-gradient(
90deg,#22c55e,#4ade80);

color:white;

font-weight:bold;

cursor:pointer;

}

.small{

text-align:center;

margin-top:12px;

opacity:.7;

cursor:pointer;

}

</style>

</head>

<body>



<div class="card">

<h2>

ðŸ”¥ CreatorHub Login

</h2>


<input

id="email"

placeholder="Email"


>


<input

id="pass"

type="password"

placeholder="Password"

>


<button onclick="login()">

Login / Register ðŸš€

</button>


<div

class="small"

onclick="guest()">

Continue As Guest

</div>


</div>



<script>


// GOOGLE DRIVE API

const API=

"https://script.google.com/macros/s/AKfycbw7xwjcEGIdj3xS8q7qhRNCSbch2uVsXFGFJYWgMNU4UPA-2BSfhq79PHsQ_oCEeYTm/exec";




// DRIVE LOAD

async function getDB(db){

let res=

await fetch(

API+"?db="+db

);

return await res.json();

}


// DRIVE SAVE

async function saveDB(db,data){

await fetch(

API,

{

method:"POST",

body:JSON.stringify({

db:db,

data:data

})

});

}



// LOGIN â­â­â­

async function login(){


let email=

document.getElementById(

"email"

).value.trim();


let pass=

document.getElementById(

"pass"

).value.trim();


if(!email||!pass){

alert("Fill Details");

return;

}


try{


let users=

await getDB(

"users"

);


if(!Array.isArray(users))

users=[];



// FIND USER

let user=

users.find(

u=>u.email===email

);


// REGISTER AUTO

if(!user){

users.push({

email:email,

password:pass,

banned:false,

created:

new Date()

.toLocaleString()

});


await saveDB(

"users",

users

);

}


// LOGIN CHECK

user=

users.find(

u=>u.email===email

);


if(user.password!==pass){

alert("Wrong Password");

return;

}


// BAN CHECK

if(user.banned){

alert("Account Banned");

return;

}



// SAVE LOGIN

localStorage.setItem(

"user",

JSON.stringify({

email:email

})

);


// TOKEN

localStorage.setItem(

"token",

Date.now()

);


alert("Login Success âœ…");

location.href=

"products.html";


}catch(e){

alert("Server Error");

console.log(e);

}

}



// GUEST LOGIN

function guest(){

localStorage.setItem(

"user",

JSON.stringify({

email:"guest"

})

);


localStorage.setItem(

"token",

Date.now()

);


location.href="products.html";

}


</script>

</body>

</html>
