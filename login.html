<!DOCTYPE html>
<html>

<head>

<title>Login - CreatorHub</title>

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<style>

body{

margin:0;
font-family:Arial;
background:#111;
color:white;

}


/* NAVBAR */

nav{

background:black;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;

}

a{

color:white;
text-decoration:none;
margin-left:15px;
font-weight:bold;

}

a:hover{

color:orange;

}


/* BACK */

.back{

background:#222;
padding:10px;
text-align:center;
cursor:pointer;

}


/* BOX */

.container{

display:flex;
justify-content:center;
align-items:center;
height:85vh;

}

.box{

background:#222;
padding:30px;
border-radius:12px;
width:330px;
text-align:center;
box-shadow:0 0 15px black;

}

input{

width:100%;
padding:12px;
margin-top:12px;
border:none;
border-radius:6px;

}

button{

width:100%;
padding:13px;
margin-top:15px;
background:orange;
border:none;
font-size:16px;
cursor:pointer;
border-radius:6px;
font-weight:bold;

}

button:hover{

background:#ff8c00;

}

</style>

</head>

<body>


<nav>

<div>

ðŸ”¥ CreatorHub

</div>

<div>

<a href="index.html">

Home

</a>

<a href="register.html">

Register

</a>

</div>

</nav>


<!-- BACK -->

<div class="back"

onclick="history.back()">

â¬… Back

</div>



<div class="container">


<div class="box">

<h2>

Login

</h2>


<form id="loginForm">


<input

type="email"

id="email"

placeholder="Email"

required>



<input

type="password"

id="password"

placeholder="Password"

required>



<button>

Login

</button>


</form>


<br>


<a href="forget.html">

Forgot Password ?

</a>


</div>

</div>



<script>


const API=

"https://creatorhub-f2fe.onrender.com/api";



// â­ ALREADY LOGIN CHECK

const already=

localStorage.getItem("token");

if(already){

window.location.href="dashboard.html";

}



// LOGIN

document.getElementById(

"loginForm"

).onsubmit=async(e)=>{

e.preventDefault();


const email=

document.getElementById(

"email"

).value;


const password=

document.getElementById(

"password"

).value;


try{


const res=

await fetch(

API+"/auth/login",

{

method:"POST",

headers:{

"Content-Type":

"application/json"

},

body:JSON.stringify({

email,

password

})

});


const data=

await res.json();


// SUCCESS

if(data.token){


localStorage.setItem(

"token",

data.token

);


localStorage.setItem(

"user",

JSON.stringify(

data.user

)

);


alert(

"Login Success ðŸ”¥"

);


// FORCE REDIRECT

setTimeout(()=>{

window.location.href=

"dashboard.html";

},500);


}

else{

alert(

data.message ||

"Login Failed"

);

}

}catch(err){

console.log(err);

alert("Server Error");

}

};

</script>

</body>

</html>
