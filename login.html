<!DOCTYPE html>
<html>

<head>

<title>Login - CreatorHub</title>

</head>

<body>

<h2>Login</h2>

<input id="email" placeholder="Email">

<br><br>

<input id="password"
type="password"
placeholder="Password">

<br><br>

<button onclick="login()">

Login

</button>

<br><br>

<a href="index.html">

Home

</a>


<script>

const API_URL =
"https://creatorhub-f2fe.onrender.com/api";


async function login(){

try{

const email =
document.getElementById("email").value;

const password =
document.getElementById("password").value;


// API CALL

const res = await fetch(

API_URL + "/auth/login",

{

method:"POST",

headers:{

"Content-Type":"application/json"

},

body:JSON.stringify({

email,
password

})

}

);


// RESPONSE

const data =
await res.json();


// SUCCESS

if(data.token){

alert("Login Success üöÄ");


// token save

localStorage.setItem(

"token",
data.token

);


// user save

localStorage.setItem(

"user",

JSON.stringify(data.user)

);


// dashboard open

window.location.href =
"dashboard.html";

}else{

alert(

data.message ||

"Login Failed"

);

}

}catch(error){

alert(

"Server Error ‚ùå"

);

console.log(error);

}

}

</script>

</body>

</html>
