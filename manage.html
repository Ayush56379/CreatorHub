<!DOCTYPE html>
<html>
<head>

<title>Manage Products</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

background:#0f1115;

color:white;

font-family:Arial;

padding:20px;

}

.back{

background:#3b6cff;

border:none;

padding:12px 20px;

border-radius:10px;

color:white;

cursor:pointer;

margin-bottom:20px;

}

.card{

background:#1f2937;

padding:15px;

border-radius:12px;

margin-bottom:15px;

}

img{

width:100%;

height:170px;

object-fit:cover;

border-radius:10px;

}

button{

border:none;

padding:10px;

margin-top:8px;

border-radius:6px;

cursor:pointer;

}

.edit{

background:orange;

width:48%;

}

.delete{

background:red;

color:white;

width:48%;

float:right;

}

</style>

</head>

<body>


<button class="back"

onclick="history.back()">

â¬… Back

</button>


<h2>

ðŸ“¦ Manage Products

</h2>


<div id="list">

Loading...

</div>



<script>



// LOGIN USER CHECK

let user=

JSON.parse(

localStorage.getItem("user")

);


if(!user){

alert("Login First");

location.href="login.html";

}



// LOAD PRODUCTS

function loadProducts(){


let products=

JSON.parse(

localStorage.getItem("products")

)||[];


// SIRF USER KA PRODUCT

let myProducts=

products.filter(

p=>p.owner===user.email

);


let html="";


if(myProducts.length===0){

html="No Uploaded Products ðŸ˜";

}


myProducts.forEach(p=>{


html+=`

<div class="card">

<img src="${p.image}"

onerror="this.src='https://picsum.photos/400'">


<h3>${p.title}</h3>

<p>

Price â‚¹${p.price}

</p>


<button class="edit"

onclick="editProduct(${p.id})">

Edit

</button>


<button class="delete"

onclick="deleteProduct(${p.id})">

Delete

</button>


<div style="clear:both"></div>

</div>

`;

});


document.getElementById("list")

.innerHTML=html;


}


loadProducts();




// DELETE PRODUCT

function deleteProduct(id){


if(!confirm("Delete Product ?"))

return;


let products=

JSON.parse(

localStorage.getItem("products")

)||[];


products=

products.filter(

p=>p.id!==id

);


localStorage.setItem(

"products",

JSON.stringify(products)

);


alert("Deleted");


loadProducts();

}



// EDIT PRODUCT

function editProduct(id){


localStorage.setItem(

"editProduct",

id

);


location.href=

"upload.html";

}


</script>

</body>

</html>
