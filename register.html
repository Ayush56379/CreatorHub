<!DOCTYPE html>
<html>

<head>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>CreatorHub Ultimate Register</title>

<style>

/* DEVICE AUTO THEME */

:root{
--bg:#ffffff;
--text:#111827;
--card:#f3f4f6;
--accent:#22c55e;
}

@media (prefers-color-scheme:dark){

:root{

--bg:#020617;
--text:#ffffff;
--card:#111827;

}

}

body{

margin:0;
font-family:Arial;
background:var(--bg);
color:var(--text);

}

/* HEADER */

.topbar{

display:flex;
align-items:center;
padding:14px;
background:var(--bg);
box-shadow:0 4px 15px rgba(0,0,0,.3);
position:sticky;
top:0;
z-index:99;

}

/* BACK BUTTON */

.back{

font-size:22px;
cursor:pointer;
width:40px;

}

/* TITLE */

.title{

flex:1;
text-align:center;
font-weight:bold;
color:var(--accent);
font-size:18px;

}

</style>


<style>

body{

margin:0;

font-family:Arial;

background:#020617;

display:flex;

justify-content:center;

align-items:center;

height:100vh;

color:white;

}

.card{

background:#111827;

padding:25px;

border-radius:15px;

width:92%;

max-width:420px;

box-shadow:0 0 25px black;

}

input{

width:100%;

padding:14px;

margin-top:12px;

border:none;

border-radius:10px;

background:#020617;

color:white;

}

button{

width:100%;

padding:14px;

margin-top:15px;

border:none;

border-radius:10px;

background:

linear-gradient(

90deg,#22c55e,#4ade80);

color:white;

font-weight:bold;

cursor:pointer;

}

.otp{

display:none;

}

</style>

</head>

<body>


<div class="topbar">

<div class="back"
onclick="goBack()">

‚¨Ö

</div>

<div class="title">

CreatorHub

</div>

</div>



<div class="card">

<h2>

üöÄ Ultimate Register

</h2>

<input id="name"
placeholder="Full Name">

<input id="email"
placeholder="Email">

<input id="password"
type="password"
placeholder="Password">


<button onclick="sendOTP()">

Send OTP üîê

</button>


<div class="otp"
id="otpBox">

<input id="otp"
placeholder="Enter OTP">


<button onclick="verifyOTP()">

Verify OTP ‚úÖ

</button>

</div>


<br>

<button onclick="whatsappOTP()">

WhatsApp OTP üì≤

</button>

<br><br>

Already Account ?

<a href="login.html"
style="color:#22c55e">

Login

</a>

</div>



<script>

// BACK FUNCTION

function goBack(){

history.back();

}


// ‚≠ê GOOGLE DRIVE API ‚≠ê

const API=

"https://script.google.com/macros/s/AKfycbw7xwjcEGIdj3xS8q7qhRNCSbch2uVsXFGFJYWgMNU4UPA-2BSfhq79PHsQ_oCEeYTm/exec";


let generatedOTP="";


// DRIVE LOAD

async function getDB(db){

const res=

await fetch(API+"?db="+db);

return await res.json();

}


// DRIVE SAVE

async function saveDB(db,data){

await fetch(API,{

method:"POST",

body:JSON.stringify({

db:db,

data:data

})

});

}


// SEND OTP ‚≠ê‚≠ê‚≠ê

function sendOTP(){

let email=

document.getElementById(
"email"
).value;

if(!email){

alert("Enter Email");

return;

}

// RANDOM OTP

generatedOTP=

Math.floor(
100000+
Math.random()*900000
).toString();

alert(
"Demo OTP : "+generatedOTP+
" (Real email OTP later add)"
);

// SHOW BOX

document.getElementById(
"otpBox"
).style.display="block";

}


// WHATSAPP OTP ‚≠ê‚≠ê‚≠ê

function whatsappOTP(){

let email=

document.getElementById(
"email"
).value;

let msg=

encodeURIComponent(
"CreatorHub OTP Request\nEmail:"+email
);

window.open(
"https://wa.me/91XXXXXXXXXX?text="+msg
);

}


// VERIFY OTP ‚≠ê‚≠ê‚≠ê

async function verifyOTP(){

let otp=

document.getElementById(
"otp"
).value;

if(otp!==generatedOTP){

alert("Wrong OTP");

return;

}

await registerUser();

}


// REGISTER ‚≠ê‚≠ê‚≠ê

async function registerUser(){

let name=
document.getElementById("name").value.trim();

let email=
document.getElementById("email").value.trim();

let pass=
document.getElementById("password").value.trim();

if(!name||!email||!pass){

alert("Fill Fields");

return;

}

// LOAD USERS

let users=

await getDB("users");

// DUPLICATE CHECK

if(
users.find(
u=>u.email===email
)
){

alert("Email Exists");

return;

}

// SAVE USER

users.push({

name:name,
email:email,
password:pass,
role:"user",
seller:false,
date:new Date()
.toLocaleString()

});

await saveDB(
"users",
users
);

// CREATE WALLET ‚≠ê‚≠ê‚≠ê

let wallets=

await getDB("wallets");

wallets[email]=0;

await saveDB(
"wallets",
wallets
);

// AUTO LOGIN

localStorage.setItem(
"user",
JSON.stringify({
name:name,
email:email
})
);

alert(
"Account Created üòéüî•"
);

location.href=
"dashboard.html";

}

</script>

</body>

</html>
