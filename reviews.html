<!DOCTYPE html>
<html>

<head>

<title>Reviews - CreatorHub</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{
margin:0;
font-family:Arial;
background:#111;
color:white;
}

/* NAVBAR */

nav{
background:black;
padding:15px;
display:flex;
justify-content:space-between;
}

a{
color:white;
text-decoration:none;
margin-left:15px;
font-weight:bold;
}

a:hover{
color:orange;
}

/* BACK */

.back{
background:#1b1b1b;
padding:12px;
text-align:center;
cursor:pointer;
}

.back:hover{
background:orange;
color:black;
}

/* CENTER */

.container{
display:flex;
justify-content:center;
padding:20px;
}

.card{
background:#1f1f1f;
padding:25px;
width:100%;
max-width:420px;
border-radius:12px;
}

/* INPUT */

textarea{
width:100%;
padding:12px;
border-radius:6px;
border:none;
margin-top:10px;
resize:none;
height:100px;
}

/* STAR */

.star{

font-size:25px;
cursor:pointer;
color:gray;

}

.active{

color:orange;

}

/* BUTTON */

button{
width:100%;
padding:12px;
margin-top:12px;
background:orange;
border:none;
font-size:16px;
cursor:pointer;
border-radius:6px;
font-weight:bold;
}

button:hover{
background:#ff8800;
}

/* REVIEW */

.review{

background:#2b2b2b;
padding:12px;
margin-top:10px;
border-radius:8px;

}

.profile{

display:flex;
align-items:center;
gap:10px;

}

.profile img{

width:40px;
height:40px;
border-radius:50%;

}

.delete{

background:red;
margin-top:5px;

}

</style>

</head>

<body>


<nav>

<div>

⭐ Reviews

</div>

<div>

<a href="dashboard.html">

Dashboard

</a>

</div>

</nav>


<div class="back"

onclick="history.back()">

⬅ Back

</div>



<div class="container">


<div class="card">


<h2>

Leave Review ⭐

</h2>


<div id="stars">

<span class="star"

onclick="rate(1)">⭐</span>

<span class="star"

onclick="rate(2)">⭐</span>

<span class="star"

onclick="rate(3)">⭐</span>

<span class="star"

onclick="rate(4)">⭐</span>

<span class="star"

onclick="rate(5)">⭐</span>

</div>


<textarea

id="reviewText"

placeholder="Write your review...">

</textarea>


<button onclick="submitReview()">

Submit Review

</button>


<h3>

My Reviews

</h3>


<div id="reviewList">

Loading...

</div>


</div>

</div>


<script>


const user=

JSON.parse(

localStorage.getItem("user")

);

if(!user){

window.location.href="login.html";

}


let selectedStar=5;


// STAR SELECT

function rate(n){

selectedStar=n;

document.querySelectorAll(

".star"

).forEach((s,i)=>{

s.classList.toggle(

"active",

i<n

);

});

}

rate(5);



// LOAD REVIEWS

function loadReviews(){

let reviews=

JSON.parse(

localStorage.getItem(

"reviews_"+user.email

)

)||[];


const box=

document.getElementById(

"reviewList"

);


if(reviews.length===0){

box.innerHTML="No Reviews Yet";

return;

}


let html="";

reviews.forEach((r,index)=>{


const profile=

localStorage.getItem(

"profile_"+user.email

) ||

"https://i.pravatar.cc/150";


html+=`

<div class="review">

<div class="profile">

<img src="${profile}">

<b>${r.name}</b>

</div>


<div>

${"⭐".repeat(r.star)}

</div>


<p>

${r.text}

</p>

<small>

${r.date}

</small>

<button

class="delete"

onclick="deleteReview(${index})">

Delete

</button>

</div>

`;

});


box.innerHTML=html;

}

loadReviews();



// SUBMIT REVIEW

function submitReview(){

const text=

document.getElementById(

"reviewText"

).value;


if(!text){

alert("Write Something");

return;

}


let reviews=

JSON.parse(

localStorage.getItem(

"reviews_"+user.email

)

)||[];


reviews.push({

name:user.name,

text,

star:selectedStar,

date:new Date()

.toLocaleDateString()

});


localStorage.setItem(

"reviews_"+user.email,

JSON.stringify(reviews)

);


document.getElementById(

"reviewText"

).value="";


alert("Review Added ⭐");


loadReviews();

}



// DELETE

function deleteReview(i){

let reviews=

JSON.parse(

localStorage.getItem(

"reviews_"+user.email

)

)||[];


reviews.splice(i,1);


localStorage.setItem(

"reviews_"+user.email,

JSON.stringify(reviews)

);


loadReviews();

}

</script>

</body>

</html>
