<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Wallet Control - CreatorHub</title>

<style>

body{
margin:0;
font-family:Arial;
background:#020617;
color:white;
}

.topbar{
display:flex;
align-items:center;
padding:14px;
background:#020617;
box-shadow:0 5px 20px black;
}

.back{
font-size:22px;
cursor:pointer;
width:40px;
}

.title{
flex:1;
text-align:center;
color:#22c55e;
font-weight:bold;
}

.container{
max-width:900px;
margin:auto;
padding:20px;
}

.card{
background:#111827;
padding:20px;
border-radius:15px;
}

.row{
background:#020617;
padding:15px;
border-radius:10px;
margin-top:12px;
}

input{
width:130px;
padding:8px;
border:none;
border-radius:6px;
background:#111827;
color:white;
margin-top:8px;
}

button{
border:none;
padding:8px 14px;
border-radius:8px;
cursor:pointer;
color:white;
margin-left:8px;
}

.save{
background:#22c55e;
}

</style>

</head>

<body>

<div class="topbar">

<div class="back"
onclick="location.href='admin.html'">

‚¨Ö

</div>

<div class="title">

üí∞ Wallet Control Panel

</div>

</div>


<div class="container">

<div class="card">

<h2>All Users Wallet Balance</h2>

<div id="walletList">

Loading...

</div>

</div>

</div>



<script>

/* ADMIN */

const ADMIN="ayushprajpati6@gmail.com";

const API=
"https://script.google.com/macros/s/AKfycbzgKPuIAmuZWOfilOj8gM9qJcZesz3ECPIhpCvBmupKFY2t76_ObVWyylnoTa4ecyda/exec";


let user=
JSON.parse(localStorage.getItem("user"));


if(!user || user.email!==ADMIN){

alert("Admin Only");

location.href="index.html";

}



/* DATABASE */

async function getDB(db){

try{

let res=
await fetch(API+"?db="+db+"&t="+Date.now());

let data=
await res.json();

return Array.isArray(data)?data:[];

}catch(e){

console.log("DB ERROR",e);

return [];

}

}



async function saveDB(db,data){

await fetch(API,{

method:"POST",

headers:{
"Content-Type":"text/plain"
},

body:JSON.stringify({

db:db,

data:data

})

});

}



/* LOAD WALLET */

async function loadWallets(){

let users=
await getDB("users");

let wallets=
await getDB("wallet");


let box=
document.getElementById("walletList");

box.innerHTML="";


if(users.length===0){

box.innerHTML="No Users Found";

return;

}



users.reverse().forEach(u=>{


let walletData=

wallets.find(w=>

Ó®Å0Ó®Ç
