<!DOCTYPE html>
<html>

<head>

<title>CreatorHub Admin</title>

<meta name="viewport"
content="width=device-width,initial-scale=1">

<style>

body{

margin:0;

font-family:Arial;

background:#111;

color:white;

}

nav{

background:black;

padding:15px;

display:flex;

justify-content:space-between;

align-items:center;

}

a{

color:white;

text-decoration:none;

margin-left:15px;

}

.container{

padding:20px;

max-width:900px;

margin:auto;

}

.card{

background:#222;

padding:20px;

border-radius:12px;

margin-bottom:20px;

box-shadow:0 0 10px black;

}

input{

width:100%;

padding:12px;

margin-top:10px;

border-radius:8px;

border:none;

}

button{

background:orange;

border:none;

padding:12px;

margin-top:10px;

width:100%;

border-radius:8px;

font-weight:bold;

cursor:pointer;

}

.product{

background:#333;

padding:10px;

margin-top:10px;

border-radius:8px;

display:flex;

justify-content:space-between;

align-items:center;

}

img{

width:60px;

height:60px;

border-radius:8px;

object-fit:cover;

}

.delete{

background:red;

color:white;

padding:6px 12px;

border-radius:6px;

cursor:pointer;

border:none;

}

.back{

background:#2563eb;

padding:8px 15px;

border-radius:8px;

cursor:pointer;

}

</style>

</head>

<body>


<nav>

<div>

ðŸ”¥ CreatorHub Admin

</div>

<div>

<span class="back"

onclick="history.back()">

â¬… Back

</span>

<a href="dashboard.html">

Dashboard

</a>

<a href="index.html">

Home

</a>

</div>

</nav>



<div class="container">


<div class="card">

<h2>

Upload Product

</h2>


<input id="title"

placeholder="Product Title">


<input id="price"

placeholder="Price â‚¹">


<input id="image"

placeholder="Image URL">


<button onclick="uploadProduct()">

Upload Product

</button>

</div>



<div class="card">

<h2>

ðŸ“¦ All Products

</h2>

<div id="products">

Loading...

</div>

</div>

</div>



<script>

const API=

"https://creatorhub-f2fe.onrender.com/api";



// LOGIN USER

let user=

JSON.parse(

localStorage.getItem("user")

);



if(!user){

alert("Login First");

location.href="login.html";

}



// LOAD PRODUCTS

async function loadProducts(){

try{

const res=

await fetch(API+"/products");

const data=

await res.json();


let html="";


data.products.forEach(p=>{


html+=`

<div class="product">


<div>

<img

src="${p.image ||

'https://via.placeholder.com/80'}"

onerror="this.src='https://via.placeholder.com/80'">

<b>

${p.title}

</b>

â‚¹${p.price}

</div>


<button class="delete"

onclick="deleteProduct('${p._id}')">

Delete

</button>


</div>

`;

});


document.getElementById(

"products"

).innerHTML=

html;

}catch{

document.getElementById(

"products"

).innerHTML=

"Server Error";

}

}

loadProducts();



// UPLOAD

async function uploadProduct(){

const title=

document.getElementById("title").value.trim();

const price=

document.getElementById("price").value.trim();

const image=

document.getElementById("image").value.trim();


if(!title||!price){

alert("Fill all fields");

return;

}


await fetch(

API+"/products",

{

method:"POST",

headers:{

"Content-Type":

"application/json"

},

body:JSON.stringify({

title,

price,

image,

owner:user.email

})

});


alert("Uploaded âœ…");

loadProducts();

}



// DELETE

async function deleteProduct(id){

if(!confirm("Delete Product ?"))

return;


await fetch(

API+"/products/"+id,

{

method:"DELETE"

});


alert("Deleted");

loadProducts();

}

</script>

</body>

</html>
