<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>CreatorHub Admin Panel</title>

<style>

body{

margin:0;

font-family:Arial;

background:#020617;

color:white;

}


/* HEADER */

header{

background:#020617;

padding:15px;

display:flex;

justify-content:space-between;

align-items:center;

box-shadow:0 5px 20px rgba(0,0,0,.6);

}

.logo{

font-size:20px;

font-weight:bold;

color:#22c55e;

}

.home{

background:#22c55e;

padding:10px 15px;

border-radius:10px;

color:white;

text-decoration:none;

}


/* SECTION */

.container{

padding:20px;

max-width:1000px;

margin:auto;

}

.card{

background:#111827;

padding:20px;

border-radius:15px;

margin-bottom:20px;

box-shadow:0 0 20px rgba(0,0,0,.6);

}


.product{

display:flex;

justify-content:space-between;

align-items:center;

background:#020617;

padding:10px;

border-radius:10px;

margin-top:10px;

}

img{

width:60px;

height:60px;

border-radius:10px;

object-fit:cover;

}


button{

border:none;

padding:8px 14px;

border-radius:8px;

cursor:pointer;

}

.delete{

background:red;

color:white;

}

.approve{

background:#22c55e;

color:white;

}

</style>

</head>

<body>



<header>

<div class="logo">

üî• CreatorHub ADMIN

</div>


<a class="home"

href="dashboard.html">

Dashboard

</a>

</header>



<div class="container">


<!-- PRODUCTS -->

<div class="card">

<h2>

üì¶ Manage Products

</h2>

<div id="products">

Loading...

</div>

</div>



<!-- ORDERS -->

<div class="card">

<h2>

üõí Orders

</h2>

<div id="orders">

Loading...

</div>

</div>



<!-- WALLET -->

<div class="card">

<h2>

üí∞ Wallet Balance

</h2>

<div id="wallets">

Loading...

</div>

</div>



<!-- WITHDRAW -->

<div class="card">

<h2>

üè¶ Withdraw Requests

</h2>

<div id="withdraws">

Loading...

</div>

</div>



</div>



<script>


// ‚≠ê ADMIN EMAIL

const ADMIN=

"ayushprajpati6@gmail.com";



// GOOGLE DRIVE API ‚≠ê

const API=

"https://script.google.com/macros/s/AKfycbw7xwjcEGIdj3xS8q7qhRNCSbch2uVsXFGFJYWgMNU4UPA-2BSfhq79PHsQ_oCEeYTm/exec";



// LOGIN CHECK ‚≠ê‚≠ê‚≠ê

let user=

JSON.parse(

localStorage.getItem("user")

);


if(!user ||

user.email!==ADMIN){

alert("Admin Only Access");

location.href="index.html";

}



// DRIVE LOAD

async function getDB(db){

const res=

await fetch(

API+"?db="+db

);

return await res.json();

}



// DRIVE SAVE

async function saveDB(db,data){

await fetch(

API,

{

method:"POST",

body:JSON.stringify({

db:db,

data:data

})

});

}



// PRODUCTS ‚≠ê‚≠ê‚≠ê

async function loadProducts(){

let products=

await getDB("products");


let box=

document.getElementById(

"products"

);


box.innerHTML="";


products.forEach(p=>{

box.innerHTML+=`

<div class="product">

<div>

<img src="${p.image}">

${p.title}

</div>


<button

class="delete"

onclick="deleteProduct('${p.id}')">

Delete

</button>

</div>

`;

});

}


async function deleteProduct(id){

let products=

await getDB("products");


products=

products.filter(

p=>p.id!=id

);


await saveDB(

"products",

products

);


alert("Deleted ‚úÖ");


loadProducts();

}




// ORDERS ‚≠ê‚≠ê‚≠ê

async function loadOrders(){

let orders=

await getDB("orders");


let box=

document.getElementById(

"orders"

);


box.innerHTML="";


orders.reverse()

.forEach(o=>{

box.innerHTML+=`

<div class="product">

<div>

${o.user}

<br>

${o.title}

‚Çπ${o.price}

</div>

</div>

`;

});

}




// WALLET ‚≠ê‚≠ê‚≠ê

async function loadWallets(){

let wallets=

await getDB("wallets");


let box=

document.getElementById(

"wallets"

);


box.innerHTML="";


Object.keys(wallets)

.forEach(email=>{

box.innerHTML+=`

<div class="product">

<div>

${email}

‚Çπ ${wallets[email]}

</div>

</div>

`;

});

}




// WITHDRAW ‚≠ê‚≠ê‚≠ê

async function loadWithdraws(){

let withdraws=

await getDB("withdraws");


let box=

document.getElementById(

"withdraws"

);


box.innerHTML="";


withdraws.reverse()

.forEach(w=>{


box.innerHTML+=`

<div class="product">

<div>

${w.user}

‚Çπ${w.amount}

UPI :

${w.upi}

</div>

<button

class="approve"

onclick="approveWithdraw('${w.time}')">

Approve

</button>

</div>

`;

});

}


async function approveWithdraw(time){

let withdraws=

await getDB("withdraws");


withdraws=

withdraws.map(w=>{

if(w.time===time){

w.status="Approved";

}

return w;

});


await saveDB(

"withdraws",

withdraws

);


alert("Approved ‚úÖ");


loadWithdraws();

}




// LOAD ALL

loadProducts();

loadOrders();

loadWallets();

loadWithdraws();


</script>

</body>

</html>
