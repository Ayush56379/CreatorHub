<!DOCTYPE html><html><head><meta name="viewport"
content="width=device-width,initial-scale=1">

<title>My Orders</title><style>

body{
font-family:Arial;
background:#111;
color:white;
margin:0;
}

.header{
display:flex;
justify-content:space-between;
align-items:center;
background:#000;
padding:15px;
font-size:18px;
}

.back{
cursor:pointer;
background:#2563eb;
padding:8px 14px;
border-radius:8px;
}

.dashboard{
background:#f59e0b;
padding:8px 14px;
border-radius:8px;
color:white;
text-decoration:none;
}

.container{
padding:20px;
}

.card{
background:#1f2937;
padding:15px;
border-radius:10px;
margin-bottom:10px;
}

</style></head><body><div class="header"><div class="back"
onclick="history.back()">‚¨Ö Back

</div><div>üí∞ My Orders

</div><a class="dashboard"
href="./dashboard.html">

Dashboard

</a></div><div class="container"><div id="orders">Loading...

</div></div><script>


// GOOGLE DRIVE API

const API=

"https://script.google.com/macros/s/AKfycbz_5CJPDBUTQgVEGaFcmQYQ9DK70CxVvvvS9CyVtxKvQC-SUI0RRQzMEsGMIdK_DMok/exec";



// LOGIN CHECK

let user=

JSON.parse(

localStorage.getItem("user")

);


if(!user){

alert("Login First");

location.href="login.html";

}



// LOAD DB

async function getDB(db){

const res=

await fetch(

API+"?db="+db

);

return await res.json();

}



// LOAD ORDERS ‚≠ê‚≠ê‚≠ê

async function loadOrders(){

try{


let orders=

await getDB("orders");


// USER FILTER

let myOrders=

orders.filter(o=>

o.user===user.email

);


const box=

document.getElementById(

"orders"

);


if(!myOrders.length){

box.innerHTML=

"No Orders Yet üòÑ";

return;

}


box.innerHTML="";


myOrders.reverse()

.forEach(o=>{

box.innerHTML+=`

<div class="card">

<h3>${o.name||o.title}</h3>

Price ‚Çπ${o.price}

<br>

Date : ${o.date||

new Date().toLocaleDateString()

}

</div>

`;

});


}catch(e){

console.log(e);

document.getElementById(

"orders"

).innerHTML=

"‚ùå Orders Not Loading";

}

}


loadOrders();

</script></body></html>
