<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>Seller Control</title>

<style>

body{

margin:0;

font-family:Arial;

background:#020617;

color:white;

}

.topbar{

display:flex;

align-items:center;

padding:14px;

box-shadow:0 5px 20px black;

}

.back{

font-size:22px;

cursor:pointer;

width:40px;

}

.title{

flex:1;

text-align:center;

color:#22c55e;

font-weight:bold;

}

.container{

max-width:900px;

margin:auto;

padding:20px;

}

.card{

background:#111827;

padding:20px;

border-radius:14px;

margin-bottom:15px;

}

button{

background:red;

border:none;

padding:10px 14px;

border-radius:8px;

color:white;

cursor:pointer;

}

.banned{

background:#ef4444;

}

.active{

background:#22c55e;

}

</style>

</head>

<body>


<div class="topbar">

<div class="back"

onclick="history.back()">

â¬…

</div>

<div class="title">

ðŸš« Seller Control Panel

</div>

</div>


<div class="container">

<h2>

All Registered Users

</h2>

<div id="users">

Loading...

</div>

</div>



<script>

const ADMIN="ayushprajpati6@gmail.com";

const API="https://script.google.com/macros/s/AKfycbzgKPuIAmuZWOfilOj8gM9qJcZesz3ECPIhpCvBmupKFY2t76_ObVWyylnoTa4ecyda/exec";


let user=

JSON.parse(localStorage.getItem("user"));

if(!user || user.email!==ADMIN){

alert("Admin Only");

location.href="index.html";

}



/* GET DB */

async function getDB(db){

let r=

await fetch(API+"?db="+db+"&t="+Date.now());

return await r.json();

}


/* SAVE DB */

async function saveDB(db,data){

await fetch(API,{

method:"POST",

headers:{

"Content-Type":"text/plain"

},

body:JSON.stringify({

db:db,

data:data

})

});

}



/* LOAD USERS */

async function loadUsers(){

let users=

await getDB("users")||[];

let box=

document.getElementById("users");

box.innerHTML="";


users.forEach(u=>{

if(!u.email ||

u.email==="guest")

return;

box.innerHTML+=`

<div class="card">

<b>

${u.email}

</b>

<br>

Status :

${u.banned?

"<span class='banned'>Banned</span>":

"<span class='active'>Active</span>"}

<br><br>

<button

onclick="banUser('${u.email}')">

Ban User

</button>

</div>

`;

});

}



/* BAN USER */

async function banUser(email){

if(!confirm(

"Ban this user ?"

))return;


let users=

await getDB("users");


users=

users.map(u=>{

if(u.email===email){

u.banned=true;

}

return u;

});


await saveDB(

"users",

users

);

alert("User Banned âœ…");


loadUsers();

}


loadUsers();

</script>

</body>

</html>
